<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <meta name="Description" content="Enter your description here" />
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <link rel="stylesheet" href="./styles.css">
        <title>Convert JSON Data to HTML Table</title>

        <script>
            // fetch("./testJSON.json")
            //     .then(function (response) {
            //         return response.json();
            //     })
            //     .then(function (data) {
            //         appendData(data);
            //         // console.log(data);
            //     })
            //     .catch(function (err) {
            //         console.log("error: " + err);
            //     });
            // function appendData(data){
            //     console.log(data)
            //     $("#tbody").append(`<tr id="ds">
            //         <td>${data.p}</td>
            //         <td></td>
            //         </tr>`);
            // }

        </script>
    </head>

    <body>
        <input type="button" onclick="CreateTableFromJSON()" value="Create Table From JSON" />
        <p id="showData"></p>

        <script>
            function CreateTableFromJSON() {
                fetch('./database.json')
                    .then(function (response) {
                        return response.json();
                    })
                    .then(function (data) {
                        appendData(data);
                        // console.log(data.projects)
                    })
                    .catch(function (err) {
                        console.log('error: ' + err);
                    });
                function appendData(data) {
                    // document.getElementById("showData").innerHTML = typeof data.projects 
                    const size = Object.values(data).length

                    // console.log(size)
                    var col = [];
                    for (let [key, value] of Object.entries(data.projects)) {
                        // col.push(key);
                    }
                    // console.log(col)


                    








                    // var col = [];
                    // for (var i = 0; i < element.length; i++) {
                    //     for (var key in myBooks[i]) {
                    //         if (col.indexOf(key) === -1) {
                    //             col.push(key);
                    //         }
                    //     }
                    // }

                    // // CREATE DYNAMIC TABLE.
                    // var table = document.createElement("table");

                    // // CREATE HTML TABLE HEADER ROW USING THE EXTRACTED HEADERS ABOVE.

                    // var tr = table.insertRow(-1);                   // TABLE ROW.

                    // for (var i = 0; i < col.length; i++) {
                    //     var th = document.createElement("th");      // TABLE HEADER.
                    //     th.innerHTML = col[i];
                    //     tr.appendChild(th);
                    // }

                    // // ADD JSON DATA TO THE TABLE AS ROWS.
                    // for (var i = 0; i < myBooks.length; i++) {

                    //     tr = table.insertRow(-1);

                    //     for (var j = 0; j < col.length; j++) {
                    //         var tabCell = tr.insertCell(-1);
                    //         tabCell.innerHTML = myBooks[i][col[j]];
                    //     }
                    // }

                    // // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
                    // var divContainer = document.getElementById("showData");
                    // divContainer.innerHTML = "";
                    // divContainer.appendChild(table);



                }





                // var myBooks = [
                //     {
                //         "Book ID": "1",
                //         "Book Name": "Computer Architecture",
                //         "Category": "Computers",
                //         "Price": "125.60"
                //     },
                //     {
                //         "Book ID": "2",
                //         "Book Name": "Asp.Net 4 Blue Book",
                //         "Category": "Programming",
                //         "Price": "56.00"
                //     },
                //     {
                //         "Book ID": "3",
                //         "Book Name": "Popular Science",
                //         "Category": "Science",
                //         "Price": "210.40"
                //     }
                // ]

                // EXTRACT VALUE FOR HTML HEADER. 
                // ('Book ID', 'Book Name', 'Category' and 'Price')
                // var col = [];
                // for (var i = 0; i < myBooks.length; i++) {
                //     for (var key in myBooks[i]) {
                //         if (col.indexOf(key) === -1) {
                //             col.push(key);
                //         }
                //     }
                // }

                // // CREATE DYNAMIC TABLE.
                // var table = document.createElement("table");

                // // CREATE HTML TABLE HEADER ROW USING THE EXTRACTED HEADERS ABOVE.

                // var tr = table.insertRow(-1);                   // TABLE ROW.

                // for (var i = 0; i < col.length; i++) {
                //     var th = document.createElement("th");      // TABLE HEADER.
                //     th.innerHTML = col[i];
                //     tr.appendChild(th);
                // }

                // // ADD JSON DATA TO THE TABLE AS ROWS.
                // for (var i = 0; i < myBooks.length; i++) {

                //     tr = table.insertRow(-1);

                //     for (var j = 0; j < col.length; j++) {
                //         var tabCell = tr.insertCell(-1);
                //         tabCell.innerHTML = myBooks[i][col[j]];
                //     }
                // }

                // // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
                // var divContainer = document.getElementById("showData");
                // divContainer.innerHTML = "";
                // divContainer.appendChild(table);
            }
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js"></script>
    </body>

</html>